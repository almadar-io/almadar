---
title: Orbital Language Documentation
description: Complete documentation for the Orbital programming language, standard library, and behaviors.
isDocs: true
layout: docs
---

<!-- Overview Section -->
<section id="overview">
    <h1 class="gradient-text">Orbital Language</h1>
    <p>
        Orbital is a <strong>JSON-based</strong> declarative language for building reactive,
        event-driven applications. It provides a clean separation between <strong>data</strong> (Entities),
        <strong>behavior</strong> (Traits), and <strong>presentation</strong> (Pages).
    </p>

    <figure class="docs-hero-img">
        <img src="images/orbital-logo.png" alt="Orbital Language Logo" style="max-width: 200px;">
        <figcaption>The Orbital Language â€” Composable Software Architecture</figcaption>
    </figure>

    <div class="info-box tip">
        <div class="info-box-title">ðŸ’¡ Tip</div>
        <p>New to Orbital? Start with the <a href="#tutorial-task-app">Tutorial: Building a Task App</a> to see it in
            action.</p>
    </div>
</section>

<!-- Architecture Section -->
<section id="architecture">
    <h2>Architecture</h2>
    <p>
        Orbital follows the <strong>Entity-Trait-Pages</strong> (ETP) model. Applications are composed of
        discrete, composable units called "Orbitals" that wrap around your core data entities.
    </p>

    <figure class="docs-hero-img">
        <img src="images/orbital-architecture.png" alt="Orbital Architecture Diagram">
        <figcaption>Orbitals compose around Entities to form complete applications</figcaption>
    </figure>

    <h3>Core Formula</h3>
    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">formula</span>
            <span>Orbital Composition</span>
        </div>
        <pre><code><span class="token-keyword">Orbital</span> = <span class="token-entity">Entity</span> Ã— <span class="token-behavior">Traits[]</span> Ã— <span class="token-effect">Pages[]</span>

<span class="token-keyword">App</span> = Î£(<span class="token-entity">Orbitals</span>)</code></pre>
    </div>

    <h3>Core Concepts</h3>
    <ul>
        <li><strong>OrbitalSchema</strong> â€” The top-level application definition containing all orbitals</li>
        <li><strong>Orbital</strong> â€” A self-contained feature unit (Entity + Traits + Pages)</li>
        <li><strong>Entity</strong> â€” Your data nucleus (Users, Orders, Products)</li>
        <li><strong>Trait</strong> â€” Behavioral state machines attached to entities</li>
        <li><strong>Page</strong> â€” UI entry points for interacting with entities</li>
    </ul>
</section>

<!-- Schema Structure Section -->
<section id="schema-structure">
    <h2>Schema Structure</h2>
    <p>An Orbital application is defined as a JSON object with the following structure:</p>

    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">json</span>
            <span>OrbitalSchema Structure</span>
        </div>
        <pre><code>{
  <span class="token-string">"name"</span>: <span class="token-string">"My Application"</span>,
  <span class="token-string">"description"</span>: <span class="token-string">"Application description"</span>,
  <span class="token-string">"version"</span>: <span class="token-string">"1.0.0"</span>,
  <span class="token-string">"orbitals"</span>: [
    {
      <span class="token-string">"name"</span>: <span class="token-string">"FeatureName"</span>,
      <span class="token-string">"entity"</span>: { <span class="token-comment">/* Entity definition */</span> },
      <span class="token-string">"traits"</span>: [ <span class="token-comment">/* Trait definitions or references */</span> ],
      <span class="token-string">"pages"</span>: [ <span class="token-comment">/* Page definitions */</span> ]
    }
  ],
  <span class="token-string">"services"</span>: [ <span class="token-comment">/* External service integrations */</span> ],
  <span class="token-string">"config"</span>: { <span class="token-comment">/* Global configuration */</span> }
}</code></pre>
    </div>
</section>

<!-- Entity Section -->
<section id="entities">
    <h2>Entities</h2>
    <p>
        Entities are the data nucleus of an Orbital. They define the structure of your
        domain objects with fields, persistence settings, and relationships.
    </p>

    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">json</span>
            <span>Entity Definition</span>
        </div>
        <pre><code>{
  <span class="token-string">"entity"</span>: {
    <span class="token-string">"name"</span>: <span class="token-string">"Task"</span>,
    <span class="token-string">"persistence"</span>: <span class="token-string">"persistent"</span>,
    <span class="token-string">"collection"</span>: <span class="token-string">"tasks"</span>,
    <span class="token-string">"fields"</span>: [
      { <span class="token-string">"name"</span>: <span class="token-string">"title"</span>, <span class="token-string">"type"</span>: <span class="token-string">"string"</span>, <span class="token-string">"required"</span>: <span class="token-boolean">true</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"status"</span>, <span class="token-string">"type"</span>: <span class="token-string">"enum"</span>, <span class="token-string">"values"</span>: [<span class="token-string">"todo"</span>, <span class="token-string">"done"</span>], <span class="token-string">"default"</span>: <span class="token-string">"todo"</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"dueDate"</span>, <span class="token-string">"type"</span>: <span class="token-string">"date"</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"priority"</span>, <span class="token-string">"type"</span>: <span class="token-string">"number"</span>, <span class="token-string">"default"</span>: <span class="token-number">1</span> }
    ],
    <span class="token-string">"timestamps"</span>: <span class="token-boolean">true</span>
  }
}</code></pre>
    </div>

    <h3>Persistence Types</h3>
    <table class="docs-table">
        <thead>
            <tr>
                <th>Type</th>
                <th>Description</th>
                <th>Use Case</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>persistent</code></td>
                <td>Stored in database</td>
                <td>Users, Orders, Products</td>
            </tr>
            <tr>
                <td><code>runtime</code></td>
                <td>Exists only at runtime</td>
                <td>Game entities, UI state</td>
            </tr>
            <tr>
                <td><code>singleton</code></td>
                <td>Single global instance</td>
                <td>Game config, app settings</td>
            </tr>
        </tbody>
    </table>

    <h3>Field Types</h3>
    <table class="docs-table">
        <thead>
            <tr>
                <th>Type</th>
                <th>Description</th>
                <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>string</code></td>
                <td>Text value</td>
                <td><code>{ "name": "title", "type": "string" }</code></td>
            </tr>
            <tr>
                <td><code>number</code></td>
                <td>Numeric value</td>
                <td><code>{ "name": "count", "type": "number", "default": 0 }</code></td>
            </tr>
            <tr>
                <td><code>boolean</code></td>
                <td>True/false</td>
                <td><code>{ "name": "isActive", "type": "boolean" }</code></td>
            </tr>
            <tr>
                <td><code>date</code></td>
                <td>Date only</td>
                <td><code>{ "name": "dueDate", "type": "date" }</code></td>
            </tr>
            <tr>
                <td><code>datetime</code></td>
                <td>Date and time</td>
                <td><code>{ "name": "createdAt", "type": "datetime" }</code></td>
            </tr>
            <tr>
                <td><code>enum</code></td>
                <td>Predefined values</td>
                <td><code>{ "name": "status", "type": "enum", "values": ["a", "b"] }</code></td>
            </tr>
            <tr>
                <td><code>array</code></td>
                <td>List of items</td>
                <td><code>{ "name": "tags", "type": "array", "default": [] }</code></td>
            </tr>
            <tr>
                <td><code>relation</code></td>
                <td>Foreign key</td>
                <td><code>{ "name": "userId", "type": "relation", "relation": { "entity": "User" } }</code></td>
            </tr>
        </tbody>
    </table>
</section>

<!-- Traits Section -->
<section id="traits">
    <h2>Traits</h2>
    <p>
        Traits are behavioral state machines that define how entities react to events.
        Each trait has states, events, and transitions with guards and effects.
    </p>

    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">json</span>
            <span>Trait with State Machine</span>
        </div>
        <pre><code>{
  <span class="token-string">"name"</span>: <span class="token-string">"TaskLifecycle"</span>,
  <span class="token-string">"category"</span>: <span class="token-string">"lifecycle"</span>,
  <span class="token-string">"stateMachine"</span>: {
    <span class="token-string">"states"</span>: [
      { <span class="token-string">"name"</span>: <span class="token-string">"Todo"</span>, <span class="token-string">"isInitial"</span>: <span class="token-boolean">true</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"InProgress"</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"Done"</span>, <span class="token-string">"isFinal"</span>: <span class="token-boolean">true</span> }
    ],
    <span class="token-string">"events"</span>: [
      { <span class="token-string">"key"</span>: <span class="token-string">"START"</span>, <span class="token-string">"name"</span>: <span class="token-string">"Start Task"</span> },
      { <span class="token-string">"key"</span>: <span class="token-string">"COMPLETE"</span>, <span class="token-string">"name"</span>: <span class="token-string">"Complete Task"</span> }
    ],
    <span class="token-string">"transitions"</span>: [
      {
        <span class="token-string">"from"</span>: <span class="token-string">"Todo"</span>,
        <span class="token-string">"to"</span>: <span class="token-string">"InProgress"</span>,
        <span class="token-string">"event"</span>: <span class="token-string">"START"</span>,
        <span class="token-string">"effects"</span>: [
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"in_progress"</span>]
        ]
      },
      {
        <span class="token-string">"from"</span>: <span class="token-string">"InProgress"</span>,
        <span class="token-string">"to"</span>: <span class="token-string">"Done"</span>,
        <span class="token-string">"event"</span>: <span class="token-string">"COMPLETE"</span>,
        <span class="token-string">"effects"</span>: [
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"done"</span>],
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.completedAt"</span>, <span class="token-binding">"@now"</span>]
        ]
      }
    ]
  }
}</code></pre>
    </div>

    <!-- Visualized State Machine -->
    <div class="state-diagram" id="task-lifecycle-diagram"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (window.OrbitalVisualizer) {
                OrbitalVisualizer.renderDom(document.getElementById('task-lifecycle-diagram'), {
                    name: 'TaskLifecycle',
                    stateMachine: {
                        states: [
                            { name: 'Todo', isInitial: true },
                            { name: 'InProgress' },
                            { name: 'Done', isFinal: true }
                        ],
                        transitions: [
                            {
                                from: 'Todo',
                                to: 'InProgress',
                                event: 'START',
                                effects: [
                                    ['set', '@entity.status', 'in_progress']
                                ]
                            },
                            {
                                from: 'InProgress',
                                to: 'Done',
                                event: 'COMPLETE',
                                effects: [
                                    ['set', '@entity.status', 'done'],
                                    ['set', '@entity.completedAt', '@now']
                                ]
                            }
                        ]
                    }
                }, {
                    title: 'TaskLifecycle State Machine',
                    entity: {
                        name: 'Task',
                        fields: ['id', 'title', 'status', 'assignee', 'completedAt']
                    }
                });
            }
        });
    </script>
</section>

<!-- Expressions Section -->
<section id="s-expressions">
    <h2>S-Expressions (Effects & Guards)</h2>
    <p>
        Guards and effects use <strong>S-expression syntax</strong> represented as JSON arrays.
        The first element is the operator, and subsequent elements are arguments.
    </p>

    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">json</span>
            <span>S-Expression Syntax</span>
        </div>
        <pre><code><span class="token-comment">// Format: [operator, arg1, arg2, ...]</span>

<span class="token-comment">// Effect: set a field value</span>
[<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"active"</span>]

<span class="token-comment">// Arithmetic operators: +, -, *, /, %, abs, min, max</span>
[<span class="token-arithmetic">"+"</span>, <span class="token-binding">"@entity.count"</span>, <span class="token-number">1</span>]
[<span class="token-arithmetic">"-"</span>, <span class="token-binding">"@entity.health"</span>, <span class="token-binding">"@payload.damage"</span>]

<span class="token-comment">// Comparison operators: =, !=, <, >, <=, >=</span>
[<span class="token-comparison">">"</span>, <span class="token-binding">"@entity.total"</span>, <span class="token-number">0</span>]
[<span class="token-comparison">"="</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"pending"</span>]

<span class="token-comment">// Logic operators: and, or, not, if</span>
[<span class="token-logic">"and"</span>, [<span class="token-comparison">">"</span>, <span class="token-binding">"@entity.age"</span>, <span class="token-number">18</span>], [<span class="token-logic">"not"</span>, <span class="token-binding">"@entity.isBlocked"</span>]]

<span class="token-comment">// Nested expressions with arithmetic</span>
[<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.health"</span>, [<span class="token-arithmetic">"min"</span>, <span class="token-number">100</span>, [<span class="token-arithmetic">"+"</span>, <span class="token-binding">"@entity.health"</span>, <span class="token-number">20</span>]]]

<span class="token-comment">// Control flow: do, let, when</span>
[<span class="token-control">"do"</span>,
  [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.x"</span>, <span class="token-number">0</span>],
  [<span class="token-effect">"emit"</span>, <span class="token-string">"RESET"</span>]
]</code></pre>
    </div>

    <h3>Operator Categories</h3>
    <table class="docs-table">
        <thead>
            <tr>
                <th>Category</th>
                <th>Operators</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Arithmetic</strong></td>
                <td><code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>%</code> <code>abs</code>
                    <code>min</code> <code>max</code> <code>floor</code> <code>ceil</code> <code>round</code>
                    <code>clamp</code>
                </td>
                <td>Math operations</td>
            </tr>
            <tr>
                <td><strong>Comparison</strong></td>
                <td><code>=</code> <code>!=</code> <code>&lt;</code> <code>&gt;</code> <code>&lt;=</code>
                    <code>&gt;=</code>
                </td>
                <td>Guards and conditions</td>
            </tr>
            <tr>
                <td><strong>Logic</strong></td>
                <td><code>and</code> <code>or</code> <code>not</code> <code>if</code></td>
                <td>Boolean logic</td>
            </tr>
            <tr>
                <td><strong>Control</strong></td>
                <td><code>let</code> <code>do</code> <code>when</code> <code>fn</code></td>
                <td>Control flow</td>
            </tr>
            <tr>
                <td><strong>Effects</strong></td>
                <td><code>set</code> <code>emit</code> <code>persist</code> <code>navigate</code> <code>notify</code>
                    <code>spawn</code> <code>despawn</code> <code>render-ui</code> <code>call-service</code>
                </td>
                <td>Side-effect producing actions</td>
            </tr>
        </tbody>
    </table>
</section>

<!-- Bindings Section -->
<section id="bindings">
    <h2>@ Bindings</h2>
    <p>
        Bindings provide access to runtime context. They start with <code>@</code> and reference
        the current entity, event payload, or system values.
    </p>

    <table class="docs-table">
        <thead>
            <tr>
                <th>Binding</th>
                <th>Description</th>
                <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>@entity</code></td>
                <td>Current entity being processed</td>
                <td><code>"@entity.status"</code>, <code>"@entity.owner.email"</code></td>
            </tr>
            <tr>
                <td><code>@payload</code></td>
                <td>Incoming event data</td>
                <td><code>"@payload.userId"</code>, <code>"@payload.amount"</code></td>
            </tr>
            <tr>
                <td><code>@state</code></td>
                <td>Current state machine state</td>
                <td><code>"@state.name"</code></td>
            </tr>
            <tr>
                <td><code>@now</code></td>
                <td>Current timestamp</td>
                <td><code>"@now"</code></td>
            </tr>
            <tr>
                <td><code>@EntityName</code></td>
                <td>Reference to a singleton entity</td>
                <td><code>"@GameConfig.gravity"</code>, <code>"@Keyboard.space"</code></td>
            </tr>
        </tbody>
    </table>
</section>

<!-- Effects Section -->
<section id="effects">
    <h2>Effects</h2>
    <p>
        Effects are actions that produce side-effects. They update state, emit events,
        call services, and interact with the UI.
    </p>

    <table class="docs-table">
        <thead>
            <tr>
                <th>Effect</th>
                <th>Description</th>
                <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>set</code></td>
                <td>Update a field value</td>
                <td><code>["set", "@entity.status", "active"]</code></td>
            </tr>
            <tr>
                <td><code>emit</code></td>
                <td>Emit an event</td>
                <td><code>["emit", "ORDER_SUBMITTED", { "orderId": "@entity.id" }]</code></td>
            </tr>
            <tr>
                <td><code>persist</code></td>
                <td>Database operation</td>
                <td><code>["persist", "create", "Task", { "title": "@payload.title" }]</code></td>
            </tr>
            <tr>
                <td><code>navigate</code></td>
                <td>Navigate to a route</td>
                <td><code>["navigate", "/tasks"]</code></td>
            </tr>
            <tr>
                <td><code>notify</code></td>
                <td>Send notification</td>
                <td><code>["notify", "email", "Order approved", "@entity.customerId"]</code></td>
            </tr>
            <tr>
                <td><code>call-service</code></td>
                <td>Call external service</td>
                <td><code>["call-service", "stripe", { "action": "charge" }]</code></td>
            </tr>
            <tr>
                <td><code>spawn</code></td>
                <td>Create entity instance (games)</td>
                <td><code>["spawn", "Bullet", { "x": "@entity.x" }]</code></td>
            </tr>
            <tr>
                <td><code>despawn</code></td>
                <td>Remove entity instance</td>
                <td><code>["despawn", "@entity.id"]</code></td>
            </tr>
            <tr>
                <td><code>do</code></td>
                <td>Execute multiple effects</td>
                <td><code>["do", ["set", "@entity.x", 0], ["emit", "RESET"]]</code></td>
            </tr>
        </tbody>
    </table>

    <h3>Effects in Action</h3>
    <p>
        This diagram shows a shopping cart workflow with various effects in action.
        <strong>Click on any state</strong> to see more details.
    </p>

    <div id="cart-effects-diagram" class="state-diagram"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (window.OrbitalVisualizer) {
                OrbitalVisualizer.renderDom(document.getElementById('cart-effects-diagram'), {
                    stateMachine: {
                        states: [
                            { name: 'Empty', isInitial: true, description: 'No items in cart' },
                            { name: 'Active', description: 'Cart has items ready' },
                            { name: 'Checkout', description: 'Processing payment' },
                            { name: 'Complete', isFinal: true, description: 'Order placed' }
                        ],
                        transitions: [
                            {
                                from: 'Empty',
                                to: 'Active',
                                event: 'ADD_ITEM',
                                effects: [
                                    ['set', '@entity.items', ['concat', '@entity.items', '@payload.item']],
                                    ['set', '@entity.total', ['+', '@entity.total', '@payload.item.price']]
                                ]
                            },
                            {
                                from: 'Active',
                                to: 'Empty',
                                event: 'CLEAR_CART',
                                effects: [
                                    ['set', '@entity.items', []],
                                    ['set', '@entity.total', 0]
                                ]
                            },
                            {
                                from: 'Active',
                                to: 'Checkout',
                                event: 'BEGIN_CHECKOUT',
                                effects: [
                                    ['set', '@entity.status', 'processing'],
                                    ['call-service', 'stripe', { action: 'createIntent' }]
                                ]
                            },
                            {
                                from: 'Checkout',
                                to: 'Complete',
                                event: 'PAYMENT_SUCCESS',
                                effects: [
                                    ['set', '@entity.status', 'complete'],
                                    ['persist', 'create', 'Order'],
                                    ['emit', 'ORDER_PLACED'],
                                    ['notify', 'email', 'Order confirmation']
                                ]
                            }
                        ]
                    }
                }, {
                    title: 'Shopping Cart Workflow',
                    entity: {
                        name: 'Cart',
                        fields: ['id', 'items', 'total', 'status', 'userId']
                    }
                });
            }
        });
    </script>

    <h3>Guards: Conditional Transitions</h3>
    <p>
        Guards are conditions that must be true for a transition to fire.
        <strong>Click on a transition</strong> to see its guard condition.
    </p>

    <div id="order-approval-diagram" class="state-diagram"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (window.OrbitalVisualizer) {
                OrbitalVisualizer.renderDom(document.getElementById('order-approval-diagram'), {
                    stateMachine: {
                        states: [
                            { name: 'Pending', isInitial: true, description: 'Order awaiting approval' },
                            { name: 'UnderReview', description: 'Order being reviewed by manager' },
                            { name: 'Approved', isFinal: true, description: 'Order approved for processing' },
                            { name: 'Rejected', isFinal: true, description: 'Order was rejected' }
                        ],
                        transitions: [
                            {
                                from: 'Pending',
                                to: 'Approved',
                                event: 'APPROVE',
                                guard: ['<', '@entity.amount', 1000],
                                effects: [
                                    ['set', '@entity.status', 'approved'],
                                    ['set', '@entity.approvedAt', '@now'],
                                    ['notify', 'email', 'Order auto-approved']
                                ]
                            },
                            {
                                from: 'Pending',
                                to: 'UnderReview',
                                event: 'APPROVE',
                                guard: ['>=', '@entity.amount', 1000],
                                effects: [
                                    ['set', '@entity.status', 'under_review'],
                                    ['notify', 'slack', 'High-value order needs review']
                                ]
                            },
                            {
                                from: 'UnderReview',
                                to: 'Approved',
                                event: 'MANAGER_APPROVE',
                                guard: ['and', ['=', '@user.role', 'manager'], ['not', ['=', '@user.id', '@entity.createdBy']]],
                                effects: [
                                    ['set', '@entity.status', 'approved'],
                                    ['set', '@entity.approvedBy', '@user.id'],
                                    ['emit', 'ORDER_APPROVED', { orderId: '@entity.id' }]
                                ]
                            },
                            {
                                from: 'UnderReview',
                                to: 'Rejected',
                                event: 'REJECT',
                                effects: [
                                    ['set', '@entity.status', 'rejected'],
                                    ['set', '@entity.rejectionReason', '@payload.reason'],
                                    ['notify', 'email', 'Order rejected']
                                ]
                            }
                        ]
                    }
                }, {
                    title: 'Order Approval with Guards',
                    entity: {
                        name: 'Order',
                        fields: ['id', 'amount', 'status', 'createdBy', 'approvedBy', 'approvedAt', 'rejectionReason']
                    }
                });
            }
        });
    </script>

    <h3>Ticks: Scheduled Behaviors</h3>
    <p>
        Ticks are scheduled/recurring actions that fire automatically based on time.
        This auction example uses a tick to check for bid expiration every minute.
    </p>

    <div id="auction-tick-diagram" class="state-diagram"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (window.OrbitalVisualizer) {
                OrbitalVisualizer.renderDom(document.getElementById('auction-tick-diagram'), {
                    stateMachine: {
                        states: [
                            { name: 'Draft', isInitial: true, description: 'Auction not yet started' },
                            { name: 'Active', description: 'Auction is accepting bids' },
                            { name: 'Ending', description: 'Final countdown - last 60 seconds' },
                            { name: 'Sold', isFinal: true, description: 'Auction ended with a winner' },
                            { name: 'Expired', isFinal: true, description: 'Auction ended with no bids' }
                        ],
                        transitions: [
                            {
                                from: 'Draft',
                                to: 'Active',
                                event: 'START_AUCTION',
                                effects: [
                                    ['set', '@entity.status', 'active'],
                                    ['set', '@entity.startedAt', '@now'],
                                    ['set', '@entity.endsAt', ['+', '@now', 3600000]]
                                ]
                            },
                            {
                                from: 'Active',
                                to: 'Active',
                                event: 'PLACE_BID',
                                guard: ['>', '@payload.amount', '@entity.currentBid'],
                                effects: [
                                    ['set', '@entity.currentBid', '@payload.amount'],
                                    ['set', '@entity.highestBidder', '@user.id'],
                                    ['emit', 'BID_PLACED', { auctionId: '@entity.id', amount: '@payload.amount' }]
                                ]
                            },
                            {
                                from: 'Active',
                                to: 'Ending',
                                event: 'TICK',
                                guard: ['and', ['<', ['-', '@entity.endsAt', '@now'], 60000], ['>', '@entity.currentBid', 0]],
                                effects: [
                                    ['set', '@entity.status', 'ending'],
                                    ['notify', 'push', 'Auction ending soon!']
                                ]
                            },
                            {
                                from: 'Ending',
                                to: 'Ending',
                                event: 'PLACE_BID',
                                guard: ['>', '@payload.amount', '@entity.currentBid'],
                                effects: [
                                    ['set', '@entity.currentBid', '@payload.amount'],
                                    ['set', '@entity.highestBidder', '@user.id'],
                                    ['set', '@entity.endsAt', ['+', '@now', 30000]]
                                ]
                            },
                            {
                                from: 'Ending',
                                to: 'Sold',
                                event: 'TICK',
                                guard: ['<', '@entity.endsAt', '@now'],
                                effects: [
                                    ['set', '@entity.status', 'sold'],
                                    ['set', '@entity.winner', '@entity.highestBidder'],
                                    ['persist', 'create', 'Sale'],
                                    ['notify', 'email', 'Congratulations! You won the auction']
                                ]
                            },
                            {
                                from: 'Active',
                                to: 'Expired',
                                event: 'TICK',
                                guard: ['and', ['<', '@entity.endsAt', '@now'], ['=', '@entity.currentBid', 0]],
                                effects: [
                                    ['set', '@entity.status', 'expired']
                                ]
                            }
                        ]
                    },
                    ticks: [
                        { name: 'checkAuctionStatus', interval: '1m', condition: ['or', ['=', '@state', 'Active'], ['=', '@state', 'Ending']] }
                    ]
                }, {
                    title: 'Auction Timer with Ticks',
                    entity: {
                        name: 'Auction',
                        fields: ['id', 'title', 'startingPrice', 'currentBid', 'highestBidder', 'startedAt', 'endsAt', 'status', 'winner']
                    }
                });
            }
        });
    </script>
</section>

<!-- Standard Library Section -->
<section id="stdlib-overview">
    <h2>Standard Library</h2>
    <p>
        The Orbital Standard Library provides common utilities organized into modules.
        All stdlib functions are prefixed with their module name.
    </p>

    <figure class="docs-hero-img">
        <img src="images/orbital-stdlib.png" alt="Orbital Standard Library">
        <figcaption>The Standard Library extends Orbital with domain-specific utilities</figcaption>
    </figure>

    <h3>Module Overview</h3>
    <table class="docs-table">
        <thead>
            <tr>
                <th>Module</th>
                <th>Purpose</th>
                <th>Example Functions</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>math/</code></td>
                <td>Mathematical utilities</td>
                <td><code>clamp</code>, <code>lerp</code>, <code>randomInt</code></td>
            </tr>
            <tr>
                <td><code>str/</code></td>
                <td>String manipulation</td>
                <td><code>concat</code>, <code>template</code>, <code>truncate</code></td>
            </tr>
            <tr>
                <td><code>array/</code></td>
                <td>Array operations</td>
                <td><code>length</code>, <code>first</code>, <code>filter</code>, <code>map</code></td>
            </tr>
            <tr>
                <td><code>object/</code></td>
                <td>Object utilities</td>
                <td><code>get</code>, <code>merge</code>, <code>pick</code>, <code>omit</code></td>
            </tr>
            <tr>
                <td><code>time/</code></td>
                <td>Date/time utilities</td>
                <td><code>format</code>, <code>relative</code>, <code>add</code>, <code>diff</code></td>
            </tr>
            <tr>
                <td><code>validate/</code></td>
                <td>Validation utilities</td>
                <td><code>required</code>, <code>email</code>, <code>minLength</code></td>
            </tr>
        </tbody>
    </table>
</section>

<!-- Behaviors Section -->
<section id="behaviors-overview">
    <h2>Standard Behaviors</h2>
    <p>
        Standard Behaviors are pre-built, composable state machines that encode common interaction
        patterns. Reference them using <code>{ "ref": "std/BehaviorName" }</code>.
    </p>
</section>

<section id="behaviors-ui">
    <h3>UI Interaction Behaviors</h3>
    <div class="behavior-grid">
        <div class="behavior-card">
            <h4>std/List</h4>
            <p>Manage list views with pagination, selection, and sorting.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Detail</h4>
            <p>Display and manage entity detail views.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Form</h4>
            <p>Form state management with validation and submission.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Modal</h4>
            <p>Modal dialog open/close state and data passing.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Drawer</h4>
            <p>Side drawer navigation or detail views.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Tabs</h4>
            <p>Tab navigation with content switching.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Wizard</h4>
            <p>Multi-step wizard with validation per step.</p>
        </div>
        <div class="behavior-card">
            <h4>std/MasterDetail</h4>
            <p>Master-detail layout with list selection.</p>
        </div>
    </div>
</section>

<section id="behaviors-data">
    <h3>Data Management Behaviors</h3>
    <div class="behavior-grid">
        <div class="behavior-card">
            <h4>std/Pagination</h4>
            <p>Page-based or infinite scroll pagination.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Selection</h4>
            <p>Single or multi-select with bulk actions.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Sort</h4>
            <p>Column sorting with direction toggle.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Filter</h4>
            <p>Dynamic filtering with multiple criteria.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Search</h4>
            <p>Search with debounce and suggestions.</p>
        </div>
    </div>
</section>

<section id="behaviors-async">
    <h3>Async Behaviors</h3>
    <div class="behavior-grid">
        <div class="behavior-card">
            <h4>std/Loading</h4>
            <p>Loading state with skeleton or spinner.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Fetch</h4>
            <p>Data fetching with loading, error, and success states.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Submit</h4>
            <p>Form submission with optimistic updates.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Retry</h4>
            <p>Automatic retry with exponential backoff.</p>
        </div>
        <div class="behavior-card">
            <h4>std/Poll</h4>
            <p>Periodic polling with configurable interval.</p>
        </div>
    </div>
</section>

<!-- Tutorial: Task App -->
<section id="tutorial-task-app">
    <h2>Tutorial: Building a Task App</h2>
    <p>
        Let's build a complete task management application step by step.
        This tutorial covers entities, traits, pages, and state machines.
    </p>

    <h3>Step 1: Define the Schema</h3>
    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">json</span>
            <span>task-app.orb</span>
        </div>
        <pre><code>{
  <span class="token-string">"name"</span>: <span class="token-string">"Task Manager"</span>,
  <span class="token-string">"description"</span>: <span class="token-string">"A simple task management application"</span>,
  <span class="token-string">"version"</span>: <span class="token-string">"1.0.0"</span>,
  <span class="token-string">"orbitals"</span>: []
}</code></pre>
    </div>

    <h3>Step 2: Add the Task Orbital</h3>
    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">json</span>
            <span>Task Orbital with Entity</span>
        </div>
        <pre><code>{
  <span class="token-string">"name"</span>: <span class="token-string">"Tasks"</span>,
  <span class="token-string">"entity"</span>: {
    <span class="token-string">"name"</span>: <span class="token-string">"Task"</span>,
    <span class="token-string">"persistence"</span>: <span class="token-string">"persistent"</span>,
    <span class="token-string">"collection"</span>: <span class="token-string">"tasks"</span>,
    <span class="token-string">"fields"</span>: [
      { <span class="token-string">"name"</span>: <span class="token-string">"title"</span>, <span class="token-string">"type"</span>: <span class="token-string">"string"</span>, <span class="token-string">"required"</span>: <span class="token-boolean">true</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"description"</span>, <span class="token-string">"type"</span>: <span class="token-string">"string"</span> },
      { 
        <span class="token-string">"name"</span>: <span class="token-string">"status"</span>, 
        <span class="token-string">"type"</span>: <span class="token-string">"enum"</span>, 
        <span class="token-string">"values"</span>: [<span class="token-string">"todo"</span>, <span class="token-string">"in_progress"</span>, <span class="token-string">"done"</span>], 
        <span class="token-string">"default"</span>: <span class="token-string">"todo"</span> 
      },
      { 
        <span class="token-string">"name"</span>: <span class="token-string">"priority"</span>, 
        <span class="token-string">"type"</span>: <span class="token-string">"enum"</span>, 
        <span class="token-string">"values"</span>: [<span class="token-string">"low"</span>, <span class="token-string">"medium"</span>, <span class="token-string">"high"</span>], 
        <span class="token-string">"default"</span>: <span class="token-string">"medium"</span> 
      },
      { <span class="token-string">"name"</span>: <span class="token-string">"dueDate"</span>, <span class="token-string">"type"</span>: <span class="token-string">"date"</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"completedAt"</span>, <span class="token-string">"type"</span>: <span class="token-string">"datetime"</span> }
    ],
    <span class="token-string">"timestamps"</span>: <span class="token-boolean">true</span>
  },
  <span class="token-string">"traits"</span>: [],
  <span class="token-string">"pages"</span>: []
}</code></pre>
    </div>

    <h3>Step 3: Add a Lifecycle Trait</h3>
    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">json</span>
            <span>TaskLifecycle Trait</span>
        </div>
        <pre><code>{
  <span class="token-string">"name"</span>: <span class="token-string">"TaskLifecycle"</span>,
  <span class="token-string">"category"</span>: <span class="token-string">"lifecycle"</span>,
  <span class="token-string">"stateMachine"</span>: {
    <span class="token-string">"states"</span>: [
      { <span class="token-string">"name"</span>: <span class="token-string">"Todo"</span>, <span class="token-string">"isInitial"</span>: <span class="token-boolean">true</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"InProgress"</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"Done"</span>, <span class="token-string">"isFinal"</span>: <span class="token-boolean">true</span> }
    ],
    <span class="token-string">"events"</span>: [
      { <span class="token-string">"key"</span>: <span class="token-string">"START"</span>, <span class="token-string">"name"</span>: <span class="token-string">"Start Task"</span> },
      { <span class="token-string">"key"</span>: <span class="token-string">"COMPLETE"</span>, <span class="token-string">"name"</span>: <span class="token-string">"Complete Task"</span> },
      { <span class="token-string">"key"</span>: <span class="token-string">"REOPEN"</span>, <span class="token-string">"name"</span>: <span class="token-string">"Reopen Task"</span> }
    ],
    <span class="token-string">"transitions"</span>: [
      {
        <span class="token-string">"from"</span>: <span class="token-string">"Todo"</span>,
        <span class="token-string">"to"</span>: <span class="token-string">"InProgress"</span>,
        <span class="token-string">"event"</span>: <span class="token-string">"START"</span>,
        <span class="token-string">"effects"</span>: [
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"in_progress"</span>],
          [<span class="token-effect">"emit"</span>, <span class="token-string">"TASK_STARTED"</span>, { <span class="token-string">"taskId"</span>: <span class="token-binding">"@entity.id"</span> }]
        ]
      },
      {
        <span class="token-string">"from"</span>: <span class="token-string">"InProgress"</span>,
        <span class="token-string">"to"</span>: <span class="token-string">"Done"</span>,
        <span class="token-string">"event"</span>: <span class="token-string">"COMPLETE"</span>,
        <span class="token-string">"effects"</span>: [
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"done"</span>],
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.completedAt"</span>, <span class="token-binding">"@now"</span>],
          [<span class="token-effect">"notify"</span>, <span class="token-string">"in_app"</span>, <span class="token-string">"Task completed!"</span>]
        ]
      },
      {
        <span class="token-string">"from"</span>: <span class="token-string">"Done"</span>,
        <span class="token-string">"to"</span>: <span class="token-string">"Todo"</span>,
        <span class="token-string">"event"</span>: <span class="token-string">"REOPEN"</span>,
        <span class="token-string">"effects"</span>: [
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"todo"</span>],
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.completedAt"</span>, <span class="token-null">null</span>]
        ]
      }
    ]
  }
}</code></pre>
    </div>

    <h3>Step 4: Add Pages with Standard Behaviors</h3>
    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">json</span>
            <span>Pages with std/ Behaviors</span>
        </div>
        <pre><code><span class="token-string">"pages"</span>: [
  {
    <span class="token-string">"name"</span>: <span class="token-string">"TaskListPage"</span>,
    <span class="token-string">"path"</span>: <span class="token-string">"/tasks"</span>,
    <span class="token-string">"viewType"</span>: <span class="token-string">"list"</span>,
    <span class="token-string">"primaryEntity"</span>: <span class="token-string">"Task"</span>,
    <span class="token-string">"isInitial"</span>: <span class="token-boolean">true</span>,
    <span class="token-string">"traits"</span>: [
      { <span class="token-string">"ref"</span>: <span class="token-behavior">"std/List"</span>, <span class="token-string">"linkedEntity"</span>: <span class="token-string">"Task"</span> },
      { <span class="token-string">"ref"</span>: <span class="token-behavior">"std/Filter"</span> },
      { <span class="token-string">"ref"</span>: <span class="token-behavior">"std/Sort"</span> }
    ]
  },
  {
    <span class="token-string">"name"</span>: <span class="token-string">"TaskDetailPage"</span>,
    <span class="token-string">"path"</span>: <span class="token-string">"/tasks/:id"</span>,
    <span class="token-string">"viewType"</span>: <span class="token-string">"detail"</span>,
    <span class="token-string">"primaryEntity"</span>: <span class="token-string">"Task"</span>,
    <span class="token-string">"traits"</span>: [
      { <span class="token-string">"ref"</span>: <span class="token-string">"std/Detail"</span>, <span class="token-string">"linkedEntity"</span>: <span class="token-string">"Task"</span> },
      { <span class="token-string">"ref"</span>: <span class="token-string">"std/Form"</span>, <span class="token-string">"linkedEntity"</span>: <span class="token-string">"Task"</span> }
    ]
  }
]</code></pre>
    </div>

    <div class="info-box tip">
        <div class="info-box-title">ðŸŽ‰ Complete!</div>
        <p>You've built a fully functional task management app with lifecycle state machine, list/detail pages, and
            standard behaviors!</p>
    </div>
</section>

<!-- Tutorial: Order Approval -->
<section id="tutorial-approval">
    <h2>Tutorial: Order Approval Workflow</h2>
    <p>
        This example shows how to build a multi-step approval workflow with guards
        and email notifications.
    </p>

    <div class="code-block">
        <div class="code-header">
            <span class="code-lang">json</span>
            <span>ApprovalWorkflow Trait</span>
        </div>
        <pre><code>{
  <span class="token-string">"name"</span>: <span class="token-string">"ApprovalWorkflow"</span>,
  <span class="token-string">"category"</span>: <span class="token-string">"lifecycle"</span>,
  <span class="token-string">"description"</span>: <span class="token-string">"Multi-step approval for orders"</span>,
  <span class="token-string">"stateMachine"</span>: {
    <span class="token-string">"states"</span>: [
      { <span class="token-string">"name"</span>: <span class="token-string">"Draft"</span>, <span class="token-string">"isInitial"</span>: <span class="token-boolean">true</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"PendingApproval"</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"Approved"</span>, <span class="token-string">"isFinal"</span>: <span class="token-boolean">true</span> },
      { <span class="token-string">"name"</span>: <span class="token-string">"Rejected"</span>, <span class="token-string">"isFinal"</span>: <span class="token-boolean">true</span> }
    ],
    <span class="token-string">"events"</span>: [
      { <span class="token-string">"key"</span>: <span class="token-string">"SUBMIT"</span>, <span class="token-string">"name"</span>: <span class="token-string">"Submit for Approval"</span> },
      { <span class="token-string">"key"</span>: <span class="token-string">"APPROVE"</span>, <span class="token-string">"name"</span>: <span class="token-string">"Approve"</span> },
      { <span class="token-string">"key"</span>: <span class="token-string">"REJECT"</span>, <span class="token-string">"name"</span>: <span class="token-string">"Reject"</span> }
    ],
    <span class="token-string">"transitions"</span>: [
      {
        <span class="token-string">"from"</span>: <span class="token-string">"Draft"</span>,
        <span class="token-string">"to"</span>: <span class="token-string">"PendingApproval"</span>,
        <span class="token-string">"event"</span>: <span class="token-string">"SUBMIT"</span>,
        <span class="token-string">"guard"</span>: [<span class="token-comparison">">"</span>, <span class="token-binding">"@entity.total"</span>, <span class="token-number">0</span>],
        <span class="token-string">"effects"</span>: [
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"pending"</span>],
          [<span class="token-effect">"emit"</span>, <span class="token-string">"ORDER_SUBMITTED"</span>]
        ]
      },
      {
        <span class="token-string">"from"</span>: <span class="token-string">"PendingApproval"</span>,
        <span class="token-string">"to"</span>: <span class="token-string">"Approved"</span>,
        <span class="token-string">"event"</span>: <span class="token-string">"APPROVE"</span>,
        <span class="token-string">"effects"</span>: [
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"approved"</span>],
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.approvedBy"</span>, <span class="token-binding">"@payload.userId"</span>],
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.approvedAt"</span>, <span class="token-binding">"@now"</span>],
          [<span class="token-effect">"notify"</span>, <span class="token-string">"email"</span>, <span class="token-string">"Your order has been approved"</span>, <span class="token-binding">"@entity.customerId"</span>]
        ]
      },
      {
        <span class="token-string">"from"</span>: <span class="token-string">"PendingApproval"</span>,
        <span class="token-string">"to"</span>: <span class="token-string">"Rejected"</span>,
        <span class="token-string">"event"</span>: <span class="token-string">"REJECT"</span>,
        <span class="token-string">"effects"</span>: [
          [<span class="token-effect">"set"</span>, <span class="token-binding">"@entity.status"</span>, <span class="token-string">"rejected"</span>],
          [<span class="token-effect">"notify"</span>, <span class="token-string">"email"</span>, <span class="token-string">"Your order was rejected"</span>, <span class="token-binding">"@entity.customerId"</span>]
        ]
      }
    ]
  }
}</code></pre>
    </div>

    <!-- Visualized Approval Workflow -->
    <div class="state-diagram" id="approval-workflow-diagram"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (window.OrbitalVisualizer) {
                OrbitalVisualizer.renderDom(document.getElementById('approval-workflow-diagram'), {
                    name: 'ApprovalWorkflow',
                    stateMachine: {
                        states: [
                            { name: 'Draft', isInitial: true },
                            { name: 'PendingApproval' },
                            { name: 'Approved', isFinal: true },
                            { name: 'Rejected', isFinal: true }
                        ],
                        transitions: [
                            {
                                from: 'Draft',
                                to: 'PendingApproval',
                                event: 'SUBMIT',
                                guard: ['>', '@entity.total', 0],
                                effects: [
                                    ['set', '@entity.status', 'pending'],
                                    ['emit', 'ORDER_SUBMITTED']
                                ]
                            },
                            {
                                from: 'PendingApproval',
                                to: 'Approved',
                                event: 'APPROVE',
                                effects: [
                                    ['set', '@entity.status', 'approved'],
                                    ['set', '@entity.approvedBy', '@payload.userId'],
                                    ['set', '@entity.approvedAt', '@now'],
                                    ['notify', 'email', 'Order approved']
                                ]
                            },
                            {
                                from: 'PendingApproval',
                                to: 'Rejected',
                                event: 'REJECT',
                                effects: [
                                    ['set', '@entity.status', 'rejected'],
                                    ['notify', 'email', 'Order rejected']
                                ]
                            }
                        ]
                    }
                }, {
                    title: 'Approval Workflow State Machine',
                    entity: {
                        name: 'Order',
                        fields: ['id', 'customerId', 'total', 'status', 'approvedBy', 'approvedAt']
                    }
                });
            }
        });
    </script>
</section>

<!-- Tooling Section -->
<section id="vscode-extension">
    <h2>VS Code Extension</h2>
    <p>
        The Orbital VS Code extension provides syntax highlighting for <code>.orb</code> files
        (JSON schema files with the .orb extension).
    </p>

    <h3>Features</h3>
    <ul>
        <li><strong>Syntax Highlighting</strong> â€” Full support for JSON structure + S-expression operators</li>
        <li><strong>@ Binding Recognition</strong> â€” Highlights <code>@entity</code>, <code>@payload</code>, etc.</li>
        <li><strong>Operator Coloring</strong> â€” Different colors for effects, bindings, and values</li>
        <li><strong>Standard Library</strong> â€” Recognizes all stdlib functions</li>
        <li><strong>Behavior Highlighting</strong> â€” Highlights <code>std/</code> behavior references</li>
    </ul>
</section>

<section id="builder">
    <h2>Almadar Builder</h2>
    <p>
        The <a href="builder-overview.html">Almadar Builder</a> is a visual IDE for designing and deploying
        Orbital applications. Describe your app in natural language and Juomaru generates the schema.
    </p>

    <div class="info-box tip">
        <div class="info-box-title">ðŸš€ Launch Builder</div>
        <p>Visit <a href="https://builder.almadar.io" target="_blank">builder.almadar.io</a> to start building.</p>
    </div>
</section>