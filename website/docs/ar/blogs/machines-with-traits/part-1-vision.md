# الآلات بسمات: كيف سيغير المدار مستقبل الروبوتات

> **رؤية لمستقبل الأتمتة في العالم العربي**

---

## المقدمة

تخيل عالماً حيث لا تحتاج لكتابة آلاف الأسطر من الكود لتجعل روبوتاً يتحرك بذكاء. عالماً تُصرّح فيه عن سلوك الآلة بنفس الطريقة التي تصف بها حركة الكواكب في مداراتها.

هذا هو عالم **المدار** (Almadar).

في هذه السلسلة، سنستكشف كيف يمكن للغة المدار أن تُحدث ثورة في مجال الروبوتات والأتمتة الصناعية، وكيف يمكن للعالم العربي أن يقود هذا التحول.

---

## المشكلة: لماذا برمجة الروبوتات صعبة؟

### الطريقة التقليدية

عندما يبرمج المهندسون روبوتاً اليوم، يواجهون تحديات هائلة:

```python
# الطريقة التقليدية - كود متشابك ومعقد
class RobotArm:
    def __init__(self):
        self.position = (0, 0, 0)
        self.is_holding = False
        self.speed = 0
        self.error_state = None
        
    def move_to(self, target):
        if self.error_state:
            self.handle_error()  # أين تعريف هذه الدالة؟
            return
        if self.is_holding and self.weight > MAX_WEIGHT:
            self.emergency_stop()  # ماذا يحدث بعدها؟
            return
        # ... مئات الأسطر الأخرى
```

**المشاكل:**

1. **التعقيد المتزايد** — كل شرط جديد يضاعف التعقيد
2. **الأخطاء الخفية** — ماذا يحدث إذا نسينا حالة معينة؟
3. **صعوبة الاختبار** — كيف نتأكد أن كل المسارات مغطاة؟
4. **التوثيق المنفصل** — الكود يقول شيء والتوثيق يقول آخر

---

## الحل: السمات كطريقة للتفكير

### فيزياء البرمجيات

في الفيزياء، نصف حركة الأجسام بقوانين بسيطة:

- الجسم إما **ساكن** أو **متحرك**
- الانتقال بينهما يتطلب **قوة** (حدث)
- القوانين **تحكم** متى يمكن الانتقال

**المدار يطبق نفس المنطق على البرمجيات:**

| الفيزياء | المدار |
|---------|--------|
| الحالة (ساكن/متحرك) | حالات آلة الحالة |
| القوة | الأحداث (Events) |
| القوانين | الحراس (Guards) |
| رد الفعل | التأثيرات (Effects) |

### مثال: ذراع روبوتية بالمدار

```json
{
  "name": "ذراع_روبوتية",
  "entity": {
    "name": "الذراع",
    "persistence": "runtime",
    "fields": [
      { "name": "الموقع", "type": "object" },
      { "name": "السرعة", "type": "number" },
      { "name": "يحمل", "type": "boolean" },
      { "name": "الوزن", "type": "number" }
    ]
  },
  "traits": [{
    "name": "سمة_الحركة",
    "stateMachine": {
      "states": [
        { "name": "ساكن", "isInitial": true },
        { "name": "متحرك" },
        { "name": "يحمل" },
        { "name": "خطأ" }
      ],
      "events": [
        { "key": "تحرك", "name": "بدء الحركة" },
        { "key": "توقف", "name": "إيقاف" },
        { "key": "امسك", "name": "إمساك جسم" },
        { "key": "أفلت", "name": "إفلات جسم" },
        { "key": "طوارئ", "name": "توقف طوارئ" }
      ],
      "transitions": [
        {
          "from": "ساكن",
          "to": "متحرك",
          "event": "تحرك",
          "guard": ["و",
            ["ليس", "@الكيان.يحمل"],
            ["<", "@الحمولة.السرعة", 100]
          ],
          "effects": [
            ["حفظ", "تحديث", "الذراع", { "السرعة": "@الحمولة.السرعة" }],
            ["إرسال", "بدأت_الحركة", { "الهدف": "@الحمولة.الهدف" }]
          ]
        },
        {
          "from": "متحرك",
          "to": "ساكن",
          "event": "توقف",
          "effects": [
            ["حفظ", "تحديث", "الذراع", { "السرعة": 0 }]
          ]
        },
        {
          "from": "ساكن",
          "to": "يحمل",
          "event": "امسك",
          "guard": ["<", "@الحمولة.الوزن", 50],
          "effects": [
            ["حفظ", "تحديث", "الذراع", { 
              "يحمل": true, 
              "الوزن": "@الحمولة.الوزن" 
            }],
            ["إشعار", "معلومات", "تم إمساك الجسم"]
          ]
        },
        {
          "from": "*",
          "to": "خطأ",
          "event": "طوارئ",
          "effects": [
            ["حفظ", "تحديث", "الذراع", { "السرعة": 0 }],
            ["إرسال", "توقف_طوارئ", { "السبب": "@الحمولة.السبب" }],
            ["إشعار", "خطأ", "توقف طوارئ!"]
          ]
        }
      ]
    }
  }]
}
```

### ماذا يعني هذا؟

1. **كل الحالات واضحة** — ساكن، متحرك، يحمل، خطأ
2. **كل الانتقالات محددة** — لا مفاجآت
3. **الحراس تحمي** — لا يمكن الإمساك بوزن أكبر من ٥٠
4. **من أي حالة للطوارئ** — `"from": "*"` تعني من كل الحالات

---

## الفرصة العربية

### رؤية ٢٠٣٠ والأتمتة

المملكة العربية السعودية تستثمر مليارات الدولارات في:

- **NEOM** — مدينة المستقبل الذكية
- **الصناعة ٤.٠** — أتمتة المصانع
- **الرعاية الصحية** — روبوتات الجراحة
- **الخدمات** — روبوتات الضيافة

### لماذا المدار مناسب؟

| الاحتياج | حل المدار |
|---------|-----------|
| سرعة التطوير | ٦٠٪ أسرع من التقليدي |
| الموثوقية | آلات حالة مضمونة |
| السلامة | حراس تمنع السلوك الخاطئ |
| التوثيق | المخطط هو التوثيق |
| التدريب | لغة عربية أولاً |

### مثال: روبوت توصيل في NEOM

```json
{
  "name": "روبوت_التوصيل",
  "orbitals": [
    {
      "name": "الملاحة",
      "traits": [{ "ref": "سمة_GPS" }, { "ref": "سمة_تجنب_العوائق" }]
    },
    {
      "name": "التوصيل",
      "traits": [{ "ref": "سمة_استلام_الطرد" }, { "ref": "سمة_تسليم_الطرد" }]
    },
    {
      "name": "التواصل",
      "traits": [{ "ref": "سمة_إشعار_العميل" }],
      "listens": [
        { "event": "تم_التسليم", "triggers": "إرسال_تأكيد" }
      ]
    }
  ]
}
```

**ثلاثة أوربتالز (وحدات مدارية) تتواصل تلقائياً:**

1. **الملاحة** — تتحكم في الحركة
2. **التوصيل** — تدير الطرود
3. **التواصل** — تُخطر العميل

عندما يُرسل التوصيل حدث `تم_التسليم`، يستمع التواصل ويُرسل تأكيداً للعميل تلقائياً.

---

## الخطوات القادمة

### للمطورين

1. **حمّل المُصرّف** — `npm install -g @almadar/almadar-cli`
2. **اقرأ التوثيق** — [دليل البداية](../../getting-started/introduction.md)
3. **جرّب المثال** — ابنِ أول سمة روبوتية

### للشركات

1. **تواصل معنا** — hello@almadar.io
2. **احجز عرضاً** — نُريك المدار على مشروعك
3. **ابدأ تجريبياً** — مشروع صغير لإثبات القيمة

### للمؤسسات التعليمية

نقدم:
- **محاضرات ضيف** — مقدمة للمدار
- **مشاريع تخرج** — إشراف وتوجيه
- **شراكات بحثية** — تطوير مشترك

---

## الخلاصة

> **"الآلات لم تعد تحتاج لآلاف الأسطر. تحتاج لسمات واضحة ومحددة."**

المدار ليس مجرد لغة برمجة. إنه طريقة جديدة للتفكير في سلوك الآلات. طريقة تجعل البرمجة أقرب للفيزياء، والتطوير أقرب للتصميم.

العالم العربي لديه فرصة تاريخية لقيادة هذا التحول. فرصة لبناء المستقبل بأدواتنا ولغتنا.

**هل أنت مستعد؟**

---

## في الجزء القادم

[الجزء الثاني: بناء متحكم روبوت صناعي](part-2-robotics.md) — سنبني معاً ذراعاً روبوتية كاملة بلغة المدار، خطوة بخطوة.

---

*كُتب بواسطة فريق المدار*  
*يناير ٢٠٢٦*

---

**شارك هذا المقال:**

[Twitter](https://twitter.com/intent/tweet?text=الآلات%20بسمات%20-%20مستقبل%20الروبوتات%20بلغة%20المدار&url=https://orbital.almadar.io/ar/blogs/machines-with-traits/part-1-vision) | [LinkedIn](https://www.linkedin.com/sharing/share-offsite/?url=https://orbital.almadar.io/ar/blogs/machines-with-traits/part-1-vision)
